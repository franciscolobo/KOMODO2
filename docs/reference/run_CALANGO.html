<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run the CALANGO pipeline — run_CALANGO • CALANGO</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run the CALANGO pipeline — run_CALANGO"><meta property="og:description" content="This function runs the complete workflow of CALANGO and generates the
HTML5 output pages and export files."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CALANGO</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.14</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/CALANGO_Parameters.html">CALANGO Parameters</a>
    </li>
    <li>
      <a href="../articles/CALANGO_examples.html">CALANGO Examples</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/fcampelo/CALANGO/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run the CALANGO pipeline</h1>
    <small class="dont-index">Source: <a href="https://github.com/fcampelo/CALANGO/blob/HEAD/R/run_CALANGO.R" class="external-link"><code>R/run_CALANGO.R</code></a></small>
    <div class="hidden name"><code>run_CALANGO.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function runs the complete workflow of CALANGO and generates the
HTML5 output pages and export files.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_CALANGO</span><span class="op">(</span></span>
<span>  <span class="va">defs</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"correlation"</span>,</span>
<span>  cores <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  render.report <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  basedir <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>defs</dt>
<dd><p>either a CALANGO-type list object or
a path to a text file containing the required definitions (see Details).</p></dd>


<dt>type</dt>
<dd><p>type of analysis to perform. Currently only "correlation" is
supported.</p></dd>


<dt>cores</dt>
<dd><p>positive integer, how many CPU cores to use (multicore
acceleration does not work in Windows systems). Setting
this parameter overrides any `cores` field from `defs`. Multicore support is
currently implemented using the `parallel` package, which uses forking
(which means that multicore support is not available under Windows)</p></dd>


<dt>render.report</dt>
<dd><p>logical: should a HTML5 report be generated?</p></dd>


<dt>basedir</dt>
<dd><p>path to base folder to which all relative paths in `defs` 
refer to.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Updated `defs` list, containing:</p><ul><li><p>All input parameters originally passed or read from a `defs` file 
   (see **Details**).</p></li>
<li><p>Derived fields loaded and preprocessed from the files indicated in 
   `defs`.</p></li>
<li><p>Several statistical summaries of the data (used to render the 
   report), including correlations, contrasts, covariances, p-values and 
   other summary statistics.</p></li>
</ul><p>Results are also saved to files under `defs$output.dir`.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The script expects a `CALANGO`-type list, passed either as an actual list
object or as a file path. In the latter case, notice that
the file must be a text file with a `field = value` format.
Blank likes and lines starting with `#` are ignored. The function expects the
 input list to have the following fields:</p><ul><li><p><code>annotation.files.dir</code> (required, string) - Folder where
   annotation files are located.</p></li>
<li><p><code>output.dir</code> (required, string) - output folder for results</p></li>
<li><p><code>dataset.info</code> (required, string) - genome metadata file, it
   should contain at least:</p><ul><li><p>File names. Please notice this information should be the first
     column in metadata file;</p></li>
<li><p>Phenotype data (numeric, this is the value CALANGO uses to rank
     species when searching for associations)</p></li>
<li><p>Normalization data (numeric, this is the value CALANGO uses as a
     denominator to compute annotation term frequencies to remove potential
     biases caused by, for instance, over annotation of model organisms or
     large differences in the counts of genomic elements). Please notice that
     CALANGO does not require normalization data for GO, as it computes the
     total number of GO terms per species and uses it as a normalizing factor.</p></li>
</ul></li>
<li><p><code>x.column</code> (required, numeric) - which column in "dataset.info"
   contains the phenotype data?</p></li>
<li><p><code>ontology</code> (required, string)  - which dictionary data type to
   use? Possible values are "GO" and "other". For GO, CALANGO can compute
   normalization data.</p></li>
<li><p><code>dict.path</code> (required, string)  - file for dictionary file
   (two-column file containing annotation IDs and their descriptions. Not
   needed for GO.</p></li>
<li><p><code>column</code> (required, string)  - which column in annotation files
   should be used (column name)</p></li>
<li><p><code>denominator.column</code> (optional, numeric) - which column contains
   normalization data (column number)</p></li>
<li><p><code>tree.path</code> (required, string)  - path for tree file in either
   newick or nexus format</p></li>
<li><p><code>tree.type</code> (required, string) - tree file type (either "nexus"
   or "newick")</p></li>
<li><p><code>cores</code> (optional, numeric) - how many cores to use? If not
   provided the function defaults to 1.</p></li>
<li><p><code>linear.model.cutoff</code> (required, numeric) - parameter that
   regulates how much graphical output is produced. We configure it to
   generate plots only for annotation terms with corrected q-values for
   phylogenetically independent contrasts (standard: smaller than 0.5).</p></li>
<li><p><code>MHT.method</code> (optional, string) - type of multiple hypothesis
   correction to be used. Accepts all methods listed by
   `stats::p.adjust.methods()`. If not provided the function defaults to
   "BH".</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Install any missing BioConductor packages for report generation </span></span></span>
<span class="r-in"><span><span class="co">## (only needs to be done once)</span></span></span>
<span class="r-in"><span><span class="co"># CALANGO::install_bioc_dependencies()</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Retrieve example files</span></span></span>
<span class="r-in"><span><span class="va">basedir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="retrieve_data_files.html">retrieve_data_files</a></span><span class="op">(</span>target.dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">basedir</span>, <span class="st">"/data"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">defs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">basedir</span>, <span class="st">"/data/parameters/parameters_domain2GO_count_less_phages.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run CALANGO</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">run_CALANGO</span><span class="op">(</span><span class="va">defs</span>, cores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Francisco Lobo, Felipe Campelo, Jorge Augusto Hongo, Giovanni Marques de Castro.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

